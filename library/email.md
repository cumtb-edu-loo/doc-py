# `email` \--- 电子邮件与 MIME 处理包¶

**源代码:** [Lib/email/__init__.py](https://github.com/python/cpython/tree/3.12/Lib/email/__init__.py)

* * *

The `email` package is a library for managing email messages. It is specifically _not_ designed to do any sending of email messages to SMTP ([ **RFC 2821**](https://datatracker.ietf.org/doc/html/rfc2821.md)), NNTP, or other servers; those are functions of modules such as [`smtplib`](smtplib.md#module-smtplib "smtplib: SMTP protocol client \(requires sockets\)."). The `email` package attempts to be as RFC-compliant as possible, supporting [**RFC 5322**](https://datatracker.ietf.org/doc/html/rfc5322.md) and [**RFC 6532**](https://datatracker.ietf.org/doc/html/rfc6532.md), as well as such MIME-related RFCs as [**RFC 2045**](https://datatracker.ietf.org/doc/html/rfc2045.md), [**RFC 2046**](https://datatracker.ietf.org/doc/html/rfc2046.md), [**RFC 2047**](https://datatracker.ietf.org/doc/html/rfc2047.md), [**RFC 2183**](https://datatracker.ietf.org/doc/html/rfc2183.md), and [**RFC 2231**](https://datatracker.ietf.org/doc/html/rfc2231.md).

email 包的总体结构可以分为三个主要组件，另外还有第四个组件用于控制其他组件的行为。

这个包的中心组件是代表电子邮件消息的“对象模型”。 应用程序主要通过在 [`message`](email.message.md#module-email.message "email.message: The base class representing email messages.") 子模块中定义的对象模型接口与这个包进行交互。 应用程序可以使用此 API 来询问有关现有电子邮件的问题、构造新的电子邮件，或者添加或移除自身也使用相同对象模型接口的电子邮件子组件。 也就是说，遵循电子邮件消息及其 MIME 子组件的性质，电子邮件对象模型是所有提供 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage") API 的对象所构成的树状结构。

这个包的另外两个主要组件是 [`parser`](email.parser.md#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") 和 [`generator`](email.generator.md#module-email.generator "email.generator: Generate flat text email messages from a message structure.")。 parser 接受电子邮件消息的序列化版本（字节流）并将其转换为 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage") 对象树。 generator 接受 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage") 并将其转回序列化的字节流。 (parser 和 generator 还能处理文本字符流，但不建议这种用法，因为这很容易导致某种形式的无效消息。

控制组件是 [`policy`](email.policy.md#module-email.policy "email.policy: Controlling the parsing and generating of messages") 模块。 每一个 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage")、每一个 [`generator`](email.generator.md#module-email.generator "email.generator: Generate flat text email messages from a message structure.") 和每一个 [`parser`](email.parser.md#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") 都有一个相关联的 [`policy`](email.policy.md#module-email.policy "email.policy: Controlling the parsing and generating of messages") 对象来控制其行为。 通常应用程序只有在 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage") 被创建时才需要指明控制策略，或者通过直接实例代 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage") 来新建电子邮件，或者通过使用 [`parser`](email.parser.md#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") 来解析输入流。 但是策略也可以在使用 [`generator`](email.generator.md#module-email.generator "email.generator: Generate flat text email messages from a message structure.") 序列化消息时被更改。 例如，这允许从磁盘解析通用电子邮件消息，而在将消息发送到电子邮件服务器时使用标准 SMTP 设置对其进行序列化。

email 包会尽量地对应用程序隐藏各种控制类 RFC 的细节。 从概念上讲应用程序应当能够将电子邮件消息视为 Unicode 文本和二进制附件的结构化树，而不必担心在序列化时要如何表示它们。 但在实际中，经常有必要至少了解一部分控制类 MIME 消息及其结构的规划，特别是 MIME "内容类型" 的名称和性质以及它们是如何标识多部分文档的。 在大多数情况下这些知识应当仅对于更复杂的应用程序来说才是必需的，并且即便在那时它也应当仅是特定的高层级结构，而不是如何表示这些结构的细节信息。 由于 MIME 内容类型被广泛应用于现代因特网软件（而非只是电子邮件），因此这对许多程序员来说将是很熟悉的概念。

以下小节描述了 `email` 包的具体功能。 我们会从 [`message`](email.message.md#module-email.message "email.message: The base class representing email messages.") 对象模型开始，它是应用程序将要使用的主要接口，之后是 [`parser`](email.parser.md#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") 和 [`generator`](email.generator.md#module-email.generator "email.generator: Generate flat text email messages from a message structure.") 组件。 然后我们会介绍 [`policy`](email.policy.md#module-email.policy "email.policy: Controlling the parsing and generating of messages") 控制组件，它将完成对这个库的主要组件的处理。

接下来的三个小节会介绍这个包可能引发的异常以及 [`parser`](email.parser.md#module-email.parser "email.parser: Parse flat text email messages to produce a message object structure.") 可能检测到的缺陷（即与 RFC 不相符）。 然后我们会介绍 [`headerregistry`](email.headerregistry.md#module-email.headerregistry "email.headerregistry: Automatic Parsing of headers based on the field name") 和 [`contentmanager`](email.contentmanager.md#module-email.contentmanager "email.contentmanager: Storing and Retrieving Content from MIME Parts") 子组件，它们分别提供了用于更精细地操纵标题和载荷的工具。 这两个组件除了包含使用与生成非简单消息的相关特性，还记录了它们的可扩展性 API，这将是高级应用程序所感兴趣的内容。

在此之后是一组使用之前小节所介绍的 API 的基本部分的示例。

前面的内容是 email 包的现代（对 Unicode 支持良好）API。 从 [`Message`](email.compat32-message.md#email.message.Message "email.message.Message") 类开始的其余小节则介绍了旧式 [`compat32`](email.policy.md#email.policy.compat32 "email.policy.compat32") API，它会更直接地处理如何表示电子邮件消息的细节。 [`compat32`](email.policy.md#email.policy.compat32 "email.policy.compat32") API _不会_ 向应用程序隐藏 RFC 的相关细节，但对于需要进行此种层级操作的应用程序来说将是很有用的工具。 此文档对于因向下兼容理由而仍然使用 [`compat32`](email.policy.md#email.policy.compat32 "email.policy.compat32") API 的应用程序也是很适合的。

在 3.6 版本发生变更: 文档经过重新组织和撰写以鼓励使用新的 [`EmailMessage`](email.message.md#email.message.EmailMessage "email.message.EmailMessage")/[`EmailPolicy`](email.policy.md#email.policy.EmailPolicy "email.policy.EmailPolicy") API。

`email` 包文档的内容:

  * [`email.message`: 表示一封电子邮件信息](email.message.md)
    * [`EmailMessage`](email.message.md#email.message.EmailMessage)
      * [`EmailMessage.as_string()`](email.message.md#email.message.EmailMessage.as_string)
      * [`EmailMessage.__str__()`](email.message.md#email.message.EmailMessage.__str__)
      * [`EmailMessage.as_bytes()`](email.message.md#email.message.EmailMessage.as_bytes)
      * [`EmailMessage.__bytes__()`](email.message.md#email.message.EmailMessage.__bytes__)
      * [`EmailMessage.is_multipart()`](email.message.md#email.message.EmailMessage.is_multipart)
      * [`EmailMessage.set_unixfrom()`](email.message.md#email.message.EmailMessage.set_unixfrom)
      * [`EmailMessage.get_unixfrom()`](email.message.md#email.message.EmailMessage.get_unixfrom)
      * [`EmailMessage.__len__()`](email.message.md#email.message.EmailMessage.__len__)
      * [`EmailMessage.__contains__()`](email.message.md#email.message.EmailMessage.__contains__)
      * [`EmailMessage.__getitem__()`](email.message.md#email.message.EmailMessage.__getitem__)
      * [`EmailMessage.__setitem__()`](email.message.md#email.message.EmailMessage.__setitem__)
      * [`EmailMessage.__delitem__()`](email.message.md#email.message.EmailMessage.__delitem__)
      * [`EmailMessage.keys()`](email.message.md#email.message.EmailMessage.keys)
      * [`EmailMessage.values()`](email.message.md#email.message.EmailMessage.values)
      * [`EmailMessage.items()`](email.message.md#email.message.EmailMessage.items)
      * [`EmailMessage.get()`](email.message.md#email.message.EmailMessage.get)
      * [`EmailMessage.get_all()`](email.message.md#email.message.EmailMessage.get_all)
      * [`EmailMessage.add_header()`](email.message.md#email.message.EmailMessage.add_header)
      * [`EmailMessage.replace_header()`](email.message.md#email.message.EmailMessage.replace_header)
      * [`EmailMessage.get_content_type()`](email.message.md#email.message.EmailMessage.get_content_type)
      * [`EmailMessage.get_content_maintype()`](email.message.md#email.message.EmailMessage.get_content_maintype)
      * [`EmailMessage.get_content_subtype()`](email.message.md#email.message.EmailMessage.get_content_subtype)
      * [`EmailMessage.get_default_type()`](email.message.md#email.message.EmailMessage.get_default_type)
      * [`EmailMessage.set_default_type()`](email.message.md#email.message.EmailMessage.set_default_type)
      * [`EmailMessage.set_param()`](email.message.md#email.message.EmailMessage.set_param)
      * [`EmailMessage.del_param()`](email.message.md#email.message.EmailMessage.del_param)
      * [`EmailMessage.get_filename()`](email.message.md#email.message.EmailMessage.get_filename)
      * [`EmailMessage.get_boundary()`](email.message.md#email.message.EmailMessage.get_boundary)
      * [`EmailMessage.set_boundary()`](email.message.md#email.message.EmailMessage.set_boundary)
      * [`EmailMessage.get_content_charset()`](email.message.md#email.message.EmailMessage.get_content_charset)
      * [`EmailMessage.get_charsets()`](email.message.md#email.message.EmailMessage.get_charsets)
      * [`EmailMessage.is_attachment()`](email.message.md#email.message.EmailMessage.is_attachment)
      * [`EmailMessage.get_content_disposition()`](email.message.md#email.message.EmailMessage.get_content_disposition)
      * [`EmailMessage.walk()`](email.message.md#email.message.EmailMessage.walk)
      * [`EmailMessage.get_body()`](email.message.md#email.message.EmailMessage.get_body)
      * [`EmailMessage.iter_attachments()`](email.message.md#email.message.EmailMessage.iter_attachments)
      * [`EmailMessage.iter_parts()`](email.message.md#email.message.EmailMessage.iter_parts)
      * [`EmailMessage.get_content()`](email.message.md#email.message.EmailMessage.get_content)
      * [`EmailMessage.set_content()`](email.message.md#email.message.EmailMessage.set_content)
      * [`EmailMessage.make_related()`](email.message.md#email.message.EmailMessage.make_related)
      * [`EmailMessage.make_alternative()`](email.message.md#email.message.EmailMessage.make_alternative)
      * [`EmailMessage.make_mixed()`](email.message.md#email.message.EmailMessage.make_mixed)
      * [`EmailMessage.add_related()`](email.message.md#email.message.EmailMessage.add_related)
      * [`EmailMessage.add_alternative()`](email.message.md#email.message.EmailMessage.add_alternative)
      * [`EmailMessage.add_attachment()`](email.message.md#email.message.EmailMessage.add_attachment)
      * [`EmailMessage.clear()`](email.message.md#email.message.EmailMessage.clear)
      * [`EmailMessage.clear_content()`](email.message.md#email.message.EmailMessage.clear_content)
      * [`EmailMessage.preamble`](email.message.md#email.message.EmailMessage.preamble)
      * [`EmailMessage.epilogue`](email.message.md#email.message.EmailMessage.epilogue)
      * [`EmailMessage.defects`](email.message.md#email.message.EmailMessage.defects)
    * [`MIMEPart`](email.message.md#email.message.MIMEPart)
  * [`email.parser`: 解析电子邮件信息](email.parser.md)
    * [FeedParser API](email.parser.md#feedparser-api)
      * [`BytesFeedParser`](email.parser.md#email.parser.BytesFeedParser)
        * [`BytesFeedParser.feed()`](email.parser.md#email.parser.BytesFeedParser.feed)
        * [`BytesFeedParser.close()`](email.parser.md#email.parser.BytesFeedParser.close)
      * [`FeedParser`](email.parser.md#email.parser.FeedParser)
    * [Parser API](email.parser.md#parser-api)
      * [`BytesParser`](email.parser.md#email.parser.BytesParser)
        * [`BytesParser.parse()`](email.parser.md#email.parser.BytesParser.parse)
        * [`BytesParser.parsebytes()`](email.parser.md#email.parser.BytesParser.parsebytes)
      * [`BytesHeaderParser`](email.parser.md#email.parser.BytesHeaderParser)
      * [`Parser`](email.parser.md#email.parser.Parser)
        * [`Parser.parse()`](email.parser.md#email.parser.Parser.parse)
        * [`Parser.parsestr()`](email.parser.md#email.parser.Parser.parsestr)
      * [`HeaderParser`](email.parser.md#email.parser.HeaderParser)
      * [`message_from_bytes()`](email.parser.md#email.message_from_bytes)
      * [`message_from_binary_file()`](email.parser.md#email.message_from_binary_file)
      * [`message_from_string()`](email.parser.md#email.message_from_string)
      * [`message_from_file()`](email.parser.md#email.message_from_file)
    * [附加说明](email.parser.md#additional-notes)
  * [`email.generator`: 生成 MIME 文档](email.generator.md)
    * [`BytesGenerator`](email.generator.md#email.generator.BytesGenerator)
      * [`BytesGenerator.flatten()`](email.generator.md#email.generator.BytesGenerator.flatten)
      * [`BytesGenerator.clone()`](email.generator.md#email.generator.BytesGenerator.clone)
      * [`BytesGenerator.write()`](email.generator.md#email.generator.BytesGenerator.write)
    * [`Generator`](email.generator.md#email.generator.Generator)
      * [`Generator.flatten()`](email.generator.md#email.generator.Generator.flatten)
      * [`Generator.clone()`](email.generator.md#email.generator.Generator.clone)
      * [`Generator.write()`](email.generator.md#email.generator.Generator.write)
    * [`DecodedGenerator`](email.generator.md#email.generator.DecodedGenerator)
  * [`email.policy`: Policy 对象](email.policy.md)
    * [`Policy`](email.policy.md#email.policy.Policy)
      * [`Policy.max_line_length`](email.policy.md#email.policy.Policy.max_line_length)
      * [`Policy.linesep`](email.policy.md#email.policy.Policy.linesep)
      * [`Policy.cte_type`](email.policy.md#email.policy.Policy.cte_type)
      * [`Policy.raise_on_defect`](email.policy.md#email.policy.Policy.raise_on_defect)
      * [`Policy.mangle_from_`](email.policy.md#email.policy.Policy.mangle_from_)
      * [`Policy.message_factory`](email.policy.md#email.policy.Policy.message_factory)
      * [`Policy.clone()`](email.policy.md#email.policy.Policy.clone)
      * [`Policy.handle_defect()`](email.policy.md#email.policy.Policy.handle_defect)
      * [`Policy.register_defect()`](email.policy.md#email.policy.Policy.register_defect)
      * [`Policy.header_max_count()`](email.policy.md#email.policy.Policy.header_max_count)
      * [`Policy.header_source_parse()`](email.policy.md#email.policy.Policy.header_source_parse)
      * [`Policy.header_store_parse()`](email.policy.md#email.policy.Policy.header_store_parse)
      * [`Policy.header_fetch_parse()`](email.policy.md#email.policy.Policy.header_fetch_parse)
      * [`Policy.fold()`](email.policy.md#email.policy.Policy.fold)
      * [`Policy.fold_binary()`](email.policy.md#email.policy.Policy.fold_binary)
    * [`EmailPolicy`](email.policy.md#email.policy.EmailPolicy)
      * [`EmailPolicy.utf8`](email.policy.md#email.policy.EmailPolicy.utf8)
      * [`EmailPolicy.refold_source`](email.policy.md#email.policy.EmailPolicy.refold_source)
      * [`EmailPolicy.header_factory`](email.policy.md#email.policy.EmailPolicy.header_factory)
      * [`EmailPolicy.content_manager`](email.policy.md#email.policy.EmailPolicy.content_manager)
      * [`EmailPolicy.header_max_count()`](email.policy.md#email.policy.EmailPolicy.header_max_count)
      * [`EmailPolicy.header_source_parse()`](email.policy.md#email.policy.EmailPolicy.header_source_parse)
      * [`EmailPolicy.header_store_parse()`](email.policy.md#email.policy.EmailPolicy.header_store_parse)
      * [`EmailPolicy.header_fetch_parse()`](email.policy.md#email.policy.EmailPolicy.header_fetch_parse)
      * [`EmailPolicy.fold()`](email.policy.md#email.policy.EmailPolicy.fold)
      * [`EmailPolicy.fold_binary()`](email.policy.md#email.policy.EmailPolicy.fold_binary)
    * [`default`](email.policy.md#email.policy.default)
    * [`SMTP`](email.policy.md#email.policy.SMTP)
    * [`SMTPUTF8`](email.policy.md#email.policy.SMTPUTF8)
    * [`HTTP`](email.policy.md#email.policy.HTTP)
    * [`strict`](email.policy.md#email.policy.strict)
    * [`Compat32`](email.policy.md#email.policy.Compat32)
      * [`Compat32.mangle_from_`](email.policy.md#email.policy.Compat32.mangle_from_)
      * [`Compat32.header_source_parse()`](email.policy.md#email.policy.Compat32.header_source_parse)
      * [`Compat32.header_store_parse()`](email.policy.md#email.policy.Compat32.header_store_parse)
      * [`Compat32.header_fetch_parse()`](email.policy.md#email.policy.Compat32.header_fetch_parse)
      * [`Compat32.fold()`](email.policy.md#email.policy.Compat32.fold)
      * [`Compat32.fold_binary()`](email.policy.md#email.policy.Compat32.fold_binary)
    * [`compat32`](email.policy.md#email.policy.compat32)
  * [`email.errors`: 异常和缺陷类](email.errors.md)
    * [`MessageError`](email.errors.md#email.errors.MessageError)
    * [`MessageParseError`](email.errors.md#email.errors.MessageParseError)
    * [`HeaderParseError`](email.errors.md#email.errors.HeaderParseError)
    * [`BoundaryError`](email.errors.md#email.errors.BoundaryError)
    * [`MultipartConversionError`](email.errors.md#email.errors.MultipartConversionError)
  * [`email.headerregistry`: 自定义标头对象](email.headerregistry.md)
    * [`BaseHeader`](email.headerregistry.md#email.headerregistry.BaseHeader)
      * [`BaseHeader.name`](email.headerregistry.md#email.headerregistry.BaseHeader.name)
      * [`BaseHeader.defects`](email.headerregistry.md#email.headerregistry.BaseHeader.defects)
      * [`BaseHeader.max_count`](email.headerregistry.md#email.headerregistry.BaseHeader.max_count)
      * [`BaseHeader.fold()`](email.headerregistry.md#email.headerregistry.BaseHeader.fold)
    * [`UnstructuredHeader`](email.headerregistry.md#email.headerregistry.UnstructuredHeader)
    * [`DateHeader`](email.headerregistry.md#email.headerregistry.DateHeader)
      * [`DateHeader.datetime`](email.headerregistry.md#email.headerregistry.DateHeader.datetime)
    * [`AddressHeader`](email.headerregistry.md#email.headerregistry.AddressHeader)
      * [`AddressHeader.groups`](email.headerregistry.md#email.headerregistry.AddressHeader.groups)
      * [`AddressHeader.addresses`](email.headerregistry.md#email.headerregistry.AddressHeader.addresses)
    * [`SingleAddressHeader`](email.headerregistry.md#email.headerregistry.SingleAddressHeader)
      * [`SingleAddressHeader.address`](email.headerregistry.md#email.headerregistry.SingleAddressHeader.address)
    * [`MIMEVersionHeader`](email.headerregistry.md#email.headerregistry.MIMEVersionHeader)
      * [`MIMEVersionHeader.version`](email.headerregistry.md#email.headerregistry.MIMEVersionHeader.version)
      * [`MIMEVersionHeader.major`](email.headerregistry.md#email.headerregistry.MIMEVersionHeader.major)
      * [`MIMEVersionHeader.minor`](email.headerregistry.md#email.headerregistry.MIMEVersionHeader.minor)
    * [`ParameterizedMIMEHeader`](email.headerregistry.md#email.headerregistry.ParameterizedMIMEHeader)
      * [`ParameterizedMIMEHeader.params`](email.headerregistry.md#email.headerregistry.ParameterizedMIMEHeader.params)
    * [`ContentTypeHeader`](email.headerregistry.md#email.headerregistry.ContentTypeHeader)
      * [`ContentTypeHeader.content_type`](email.headerregistry.md#email.headerregistry.ContentTypeHeader.content_type)
      * [`ContentTypeHeader.maintype`](email.headerregistry.md#email.headerregistry.ContentTypeHeader.maintype)
      * [`ContentTypeHeader.subtype`](email.headerregistry.md#email.headerregistry.ContentTypeHeader.subtype)
    * [`ContentDispositionHeader`](email.headerregistry.md#email.headerregistry.ContentDispositionHeader)
      * [`ContentDispositionHeader.content_disposition`](email.headerregistry.md#email.headerregistry.ContentDispositionHeader.content_disposition)
    * [`ContentTransferEncoding`](email.headerregistry.md#email.headerregistry.ContentTransferEncoding)
      * [`ContentTransferEncoding.cte`](email.headerregistry.md#email.headerregistry.ContentTransferEncoding.cte)
    * [`HeaderRegistry`](email.headerregistry.md#email.headerregistry.HeaderRegistry)
      * [`HeaderRegistry.map_to_type()`](email.headerregistry.md#email.headerregistry.HeaderRegistry.map_to_type)
      * [`HeaderRegistry.__getitem__()`](email.headerregistry.md#email.headerregistry.HeaderRegistry.__getitem__)
      * [`HeaderRegistry.__call__()`](email.headerregistry.md#email.headerregistry.HeaderRegistry.__call__)
    * [`Address`](email.headerregistry.md#email.headerregistry.Address)
      * [`Address.display_name`](email.headerregistry.md#email.headerregistry.Address.display_name)
      * [`Address.username`](email.headerregistry.md#email.headerregistry.Address.username)
      * [`Address.domain`](email.headerregistry.md#email.headerregistry.Address.domain)
      * [`Address.addr_spec`](email.headerregistry.md#email.headerregistry.Address.addr_spec)
      * [`Address.__str__()`](email.headerregistry.md#email.headerregistry.Address.__str__)
    * [`Group`](email.headerregistry.md#email.headerregistry.Group)
      * [`Group.display_name`](email.headerregistry.md#email.headerregistry.Group.display_name)
      * [`Group.addresses`](email.headerregistry.md#email.headerregistry.Group.addresses)
      * [`Group.__str__()`](email.headerregistry.md#email.headerregistry.Group.__str__)
  * [`email.contentmanager`: 管理 MIME 内容](email.contentmanager.md)
    * [`ContentManager`](email.contentmanager.md#email.contentmanager.ContentManager)
      * [`ContentManager.get_content()`](email.contentmanager.md#email.contentmanager.ContentManager.get_content)
      * [`ContentManager.set_content()`](email.contentmanager.md#email.contentmanager.ContentManager.set_content)
      * [`ContentManager.add_get_handler()`](email.contentmanager.md#email.contentmanager.ContentManager.add_get_handler)
      * [`ContentManager.add_set_handler()`](email.contentmanager.md#email.contentmanager.ContentManager.add_set_handler)
    * [内容管理器实例](email.contentmanager.md#content-manager-instances)
      * [`raw_data_manager`](email.contentmanager.md#email.contentmanager.raw_data_manager)
      * [`get_content()`](email.contentmanager.md#email.contentmanager.get_content)
      * [`set_content()`](email.contentmanager.md#email.contentmanager.set_content)
  * [`email`: 示例](email.examples.md)

旧式 API:

  * [`email.message.Message`: 使用 `compat32` API 来表示电子邮件消息](email.compat32-message.md)
    * [`Message`](email.compat32-message.md#email.message.Message)
      * [`Message.as_string()`](email.compat32-message.md#email.message.Message.as_string)
      * [`Message.__str__()`](email.compat32-message.md#email.message.Message.__str__)
      * [`Message.as_bytes()`](email.compat32-message.md#email.message.Message.as_bytes)
      * [`Message.__bytes__()`](email.compat32-message.md#email.message.Message.__bytes__)
      * [`Message.is_multipart()`](email.compat32-message.md#email.message.Message.is_multipart)
      * [`Message.set_unixfrom()`](email.compat32-message.md#email.message.Message.set_unixfrom)
      * [`Message.get_unixfrom()`](email.compat32-message.md#email.message.Message.get_unixfrom)
      * [`Message.attach()`](email.compat32-message.md#email.message.Message.attach)
      * [`Message.get_payload()`](email.compat32-message.md#email.message.Message.get_payload)
      * [`Message.set_payload()`](email.compat32-message.md#email.message.Message.set_payload)
      * [`Message.set_charset()`](email.compat32-message.md#email.message.Message.set_charset)
      * [`Message.get_charset()`](email.compat32-message.md#email.message.Message.get_charset)
      * [`Message.__len__()`](email.compat32-message.md#email.message.Message.__len__)
      * [`Message.__contains__()`](email.compat32-message.md#email.message.Message.__contains__)
      * [`Message.__getitem__()`](email.compat32-message.md#email.message.Message.__getitem__)
      * [`Message.__setitem__()`](email.compat32-message.md#email.message.Message.__setitem__)
      * [`Message.__delitem__()`](email.compat32-message.md#email.message.Message.__delitem__)
      * [`Message.keys()`](email.compat32-message.md#email.message.Message.keys)
      * [`Message.values()`](email.compat32-message.md#email.message.Message.values)
      * [`Message.items()`](email.compat32-message.md#email.message.Message.items)
      * [`Message.get()`](email.compat32-message.md#email.message.Message.get)
      * [`Message.get_all()`](email.compat32-message.md#email.message.Message.get_all)
      * [`Message.add_header()`](email.compat32-message.md#email.message.Message.add_header)
      * [`Message.replace_header()`](email.compat32-message.md#email.message.Message.replace_header)
      * [`Message.get_content_type()`](email.compat32-message.md#email.message.Message.get_content_type)
      * [`Message.get_content_maintype()`](email.compat32-message.md#email.message.Message.get_content_maintype)
      * [`Message.get_content_subtype()`](email.compat32-message.md#email.message.Message.get_content_subtype)
      * [`Message.get_default_type()`](email.compat32-message.md#email.message.Message.get_default_type)
      * [`Message.set_default_type()`](email.compat32-message.md#email.message.Message.set_default_type)
      * [`Message.get_params()`](email.compat32-message.md#email.message.Message.get_params)
      * [`Message.get_param()`](email.compat32-message.md#email.message.Message.get_param)
      * [`Message.set_param()`](email.compat32-message.md#email.message.Message.set_param)
      * [`Message.del_param()`](email.compat32-message.md#email.message.Message.del_param)
      * [`Message.set_type()`](email.compat32-message.md#email.message.Message.set_type)
      * [`Message.get_filename()`](email.compat32-message.md#email.message.Message.get_filename)
      * [`Message.get_boundary()`](email.compat32-message.md#email.message.Message.get_boundary)
      * [`Message.set_boundary()`](email.compat32-message.md#email.message.Message.set_boundary)
      * [`Message.get_content_charset()`](email.compat32-message.md#email.message.Message.get_content_charset)
      * [`Message.get_charsets()`](email.compat32-message.md#email.message.Message.get_charsets)
      * [`Message.get_content_disposition()`](email.compat32-message.md#email.message.Message.get_content_disposition)
      * [`Message.walk()`](email.compat32-message.md#email.message.Message.walk)
      * [`Message.preamble`](email.compat32-message.md#email.message.Message.preamble)
      * [`Message.epilogue`](email.compat32-message.md#email.message.Message.epilogue)
      * [`Message.defects`](email.compat32-message.md#email.message.Message.defects)
  * [`email.mime`: 从头创建电子邮件和 MIME 对象](email.mime.md)
    * [`MIMEBase`](email.mime.md#email.mime.base.MIMEBase)
    * [`MIMENonMultipart`](email.mime.md#email.mime.nonmultipart.MIMENonMultipart)
    * [`MIMEMultipart`](email.mime.md#email.mime.multipart.MIMEMultipart)
    * [`MIMEApplication`](email.mime.md#email.mime.application.MIMEApplication)
    * [`MIMEAudio`](email.mime.md#email.mime.audio.MIMEAudio)
    * [`MIMEImage`](email.mime.md#email.mime.image.MIMEImage)
    * [`MIMEMessage`](email.mime.md#email.mime.message.MIMEMessage)
    * [`MIMEText`](email.mime.md#email.mime.text.MIMEText)
  * [`email.header`: 国际化标头](email.header.md)
    * [`Header`](email.header.md#email.header.Header)
      * [`Header.append()`](email.header.md#email.header.Header.append)
      * [`Header.encode()`](email.header.md#email.header.Header.encode)
      * [`Header.__str__()`](email.header.md#email.header.Header.__str__)
      * [`Header.__eq__()`](email.header.md#email.header.Header.__eq__)
      * [`Header.__ne__()`](email.header.md#email.header.Header.__ne__)
    * [`decode_header()`](email.header.md#email.header.decode_header)
    * [`make_header()`](email.header.md#email.header.make_header)
  * [`email.charset`: 表示字符集](email.charset.md)
    * [`Charset`](email.charset.md#email.charset.Charset)
      * [`Charset.input_charset`](email.charset.md#email.charset.Charset.input_charset)
      * [`Charset.header_encoding`](email.charset.md#email.charset.Charset.header_encoding)
      * [`Charset.body_encoding`](email.charset.md#email.charset.Charset.body_encoding)
      * [`Charset.output_charset`](email.charset.md#email.charset.Charset.output_charset)
      * [`Charset.input_codec`](email.charset.md#email.charset.Charset.input_codec)
      * [`Charset.output_codec`](email.charset.md#email.charset.Charset.output_codec)
      * [`Charset.get_body_encoding()`](email.charset.md#email.charset.Charset.get_body_encoding)
      * [`Charset.get_output_charset()`](email.charset.md#email.charset.Charset.get_output_charset)
      * [`Charset.header_encode()`](email.charset.md#email.charset.Charset.header_encode)
      * [`Charset.header_encode_lines()`](email.charset.md#email.charset.Charset.header_encode_lines)
      * [`Charset.body_encode()`](email.charset.md#email.charset.Charset.body_encode)
      * [`Charset.__str__()`](email.charset.md#email.charset.Charset.__str__)
      * [`Charset.__eq__()`](email.charset.md#email.charset.Charset.__eq__)
      * [`Charset.__ne__()`](email.charset.md#email.charset.Charset.__ne__)
    * [`add_charset()`](email.charset.md#email.charset.add_charset)
    * [`add_alias()`](email.charset.md#email.charset.add_alias)
    * [`add_codec()`](email.charset.md#email.charset.add_codec)
  * [`email.encoders`: 编码器](email.encoders.md)
    * [`encode_quopri()`](email.encoders.md#email.encoders.encode_quopri)
    * [`encode_base64()`](email.encoders.md#email.encoders.encode_base64)
    * [`encode_7or8bit()`](email.encoders.md#email.encoders.encode_7or8bit)
    * [`encode_noop()`](email.encoders.md#email.encoders.encode_noop)
  * [`email.utils`: 其他工具](email.utils.md)
    * [`localtime()`](email.utils.md#email.utils.localtime)
    * [`make_msgid()`](email.utils.md#email.utils.make_msgid)
    * [`quote()`](email.utils.md#email.utils.quote)
    * [`unquote()`](email.utils.md#email.utils.unquote)
    * [`parseaddr()`](email.utils.md#email.utils.parseaddr)
    * [`formataddr()`](email.utils.md#email.utils.formataddr)
    * [`getaddresses()`](email.utils.md#email.utils.getaddresses)
    * [`parsedate()`](email.utils.md#email.utils.parsedate)
    * [`parsedate_tz()`](email.utils.md#email.utils.parsedate_tz)
    * [`parsedate_to_datetime()`](email.utils.md#email.utils.parsedate_to_datetime)
    * [`mktime_tz()`](email.utils.md#email.utils.mktime_tz)
    * [`formatdate()`](email.utils.md#email.utils.formatdate)
    * [`format_datetime()`](email.utils.md#email.utils.format_datetime)
    * [`decode_rfc2231()`](email.utils.md#email.utils.decode_rfc2231)
    * [`encode_rfc2231()`](email.utils.md#email.utils.encode_rfc2231)
    * [`collapse_rfc2231_value()`](email.utils.md#email.utils.collapse_rfc2231_value)
    * [`decode_params()`](email.utils.md#email.utils.decode_params)
  * [`email.iterators`: 迭代器](email.iterators.md)
    * [`body_line_iterator()`](email.iterators.md#email.iterators.body_line_iterator)
    * [`typed_subpart_iterator()`](email.iterators.md#email.iterators.typed_subpart_iterator)
    * [`_structure()`](email.iterators.md#email.iterators._structure)

参见

[`smtplib`](smtplib.md#module-smtplib "smtplib: SMTP protocol client \(requires sockets\).") 模块

    

~~~
SMTP (简单邮件传输协议) 客户端

[`poplib`](poplib.md#module-poplib "poplib: POP3 protocol client \(requires sockets\).") 模块
~~~
    

~~~
POP (邮局协议) 客户端

[`imaplib`](imaplib.md#module-imaplib "imaplib: IMAP4 protocol client \(requires sockets\).") 模块
~~~
    

~~~
IMAP (互联网消息访问协议) 客户端

[`mailbox`](mailbox.md#module-mailbox "mailbox: Manipulate mailboxes in various formats") 模块
~~~
    

~~~
