# 数据压缩和存档¶

本章中描述的模块支持 zlib、gzip、bzip2 和 lzma 数据压缩算法，以及创建 ZIP 和 tar 格式的归档文件。参见由 [`shutil`](shutil.md#module-shutil "shutil: High-level file operations, including copying.") 模块提供的 [归档操作](shutil.md#archiving-operations) 。

  * [`zlib` \--- 与 **gzip** 兼容的压缩](zlib.md)
    * [`error`](zlib.md#zlib.error)
    * [`adler32()`](zlib.md#zlib.adler32)
    * [`compress()`](zlib.md#zlib.compress)
    * [`compressobj()`](zlib.md#zlib.compressobj)
    * [`crc32()`](zlib.md#zlib.crc32)
    * [`decompress()`](zlib.md#zlib.decompress)
    * [`decompressobj()`](zlib.md#zlib.decompressobj)
    * [`Compress.compress()`](zlib.md#zlib.Compress.compress)
    * [`Compress.flush()`](zlib.md#zlib.Compress.flush)
    * [`Compress.copy()`](zlib.md#zlib.Compress.copy)
    * [`Decompress.unused_data`](zlib.md#zlib.Decompress.unused_data)
    * [`Decompress.unconsumed_tail`](zlib.md#zlib.Decompress.unconsumed_tail)
    * [`Decompress.eof`](zlib.md#zlib.Decompress.eof)
    * [`Decompress.decompress()`](zlib.md#zlib.Decompress.decompress)
    * [`Decompress.flush()`](zlib.md#zlib.Decompress.flush)
    * [`Decompress.copy()`](zlib.md#zlib.Decompress.copy)
    * [`ZLIB_VERSION`](zlib.md#zlib.ZLIB_VERSION)
    * [`ZLIB_RUNTIME_VERSION`](zlib.md#zlib.ZLIB_RUNTIME_VERSION)
  * [`gzip` \--- 对 **gzip** 格式的支持](gzip.md)
    * [`open()`](gzip.md#gzip.open)
    * [`BadGzipFile`](gzip.md#gzip.BadGzipFile)
    * [`GzipFile`](gzip.md#gzip.GzipFile)
      * [`GzipFile.peek()`](gzip.md#gzip.GzipFile.peek)
      * [`GzipFile.mtime`](gzip.md#gzip.GzipFile.mtime)
      * [`GzipFile.name`](gzip.md#gzip.GzipFile.name)
    * [`compress()`](gzip.md#gzip.compress)
    * [`decompress()`](gzip.md#gzip.decompress)
    * [用法示例](gzip.md#examples-of-usage)
    * [命令行界面](gzip.md#command-line-interface)
      * [命令行选项](gzip.md#command-line-options)
  * [`bz2` \--- 对 **bzip2** 压缩算法的支持](bz2.md)
    * [文件压缩和解压](bz2.md#de-compression-of-files)
      * [`open()`](bz2.md#bz2.open)
      * [`BZ2File`](bz2.md#bz2.BZ2File)
        * [`BZ2File.peek()`](bz2.md#bz2.BZ2File.peek)
    * [增量压缩和解压](bz2.md#incremental-de-compression)
      * [`BZ2Compressor`](bz2.md#bz2.BZ2Compressor)
        * [`BZ2Compressor.compress()`](bz2.md#bz2.BZ2Compressor.compress)
        * [`BZ2Compressor.flush()`](bz2.md#bz2.BZ2Compressor.flush)
      * [`BZ2Decompressor`](bz2.md#bz2.BZ2Decompressor)
        * [`BZ2Decompressor.decompress()`](bz2.md#bz2.BZ2Decompressor.decompress)
        * [`BZ2Decompressor.eof`](bz2.md#bz2.BZ2Decompressor.eof)
        * [`BZ2Decompressor.unused_data`](bz2.md#bz2.BZ2Decompressor.unused_data)
        * [`BZ2Decompressor.needs_input`](bz2.md#bz2.BZ2Decompressor.needs_input)
    * [一次性压缩或解压缩](bz2.md#one-shot-de-compression)
      * [`compress()`](bz2.md#bz2.compress)
      * [`decompress()`](bz2.md#bz2.decompress)
    * [用法示例](bz2.md#examples-of-usage)
  * [`lzma` \--- 用 LZMA 算法压缩](lzma.md)
    * [`LZMAError`](lzma.md#lzma.LZMAError)
    * [读写压缩文件](lzma.md#reading-and-writing-compressed-files)
      * [`open()`](lzma.md#lzma.open)
      * [`LZMAFile`](lzma.md#lzma.LZMAFile)
        * [`LZMAFile.peek()`](lzma.md#lzma.LZMAFile.peek)
    * [在内存中压缩和解压缩数据](lzma.md#compressing-and-decompressing-data-in-memory)
      * [`LZMACompressor`](lzma.md#lzma.LZMACompressor)
        * [`LZMACompressor.compress()`](lzma.md#lzma.LZMACompressor.compress)
        * [`LZMACompressor.flush()`](lzma.md#lzma.LZMACompressor.flush)
      * [`LZMADecompressor`](lzma.md#lzma.LZMADecompressor)
        * [`LZMADecompressor.decompress()`](lzma.md#lzma.LZMADecompressor.decompress)
        * [`LZMADecompressor.check`](lzma.md#lzma.LZMADecompressor.check)
        * [`LZMADecompressor.eof`](lzma.md#lzma.LZMADecompressor.eof)
        * [`LZMADecompressor.unused_data`](lzma.md#lzma.LZMADecompressor.unused_data)
        * [`LZMADecompressor.needs_input`](lzma.md#lzma.LZMADecompressor.needs_input)
      * [`compress()`](lzma.md#lzma.compress)
      * [`decompress()`](lzma.md#lzma.decompress)
    * [杂项](lzma.md#miscellaneous)
      * [`is_check_supported()`](lzma.md#lzma.is_check_supported)
    * [指定自定义的过滤器链](lzma.md#specifying-custom-filter-chains)
    * [例子](lzma.md#examples)
  * [`zipfile` \--- 使用ZIP存档](zipfile.md)
    * [`BadZipFile`](zipfile.md#zipfile.BadZipFile)
    * [`BadZipfile`](zipfile.md#zipfile.BadZipfile)
    * [`LargeZipFile`](zipfile.md#zipfile.LargeZipFile)
    * [`ZipInfo`](zipfile.md#zipfile.ZipInfo)
    * [`is_zipfile()`](zipfile.md#zipfile.is_zipfile)
    * [`ZIP_STORED`](zipfile.md#zipfile.ZIP_STORED)
    * [`ZIP_DEFLATED`](zipfile.md#zipfile.ZIP_DEFLATED)
    * [`ZIP_BZIP2`](zipfile.md#zipfile.ZIP_BZIP2)
    * [`ZIP_LZMA`](zipfile.md#zipfile.ZIP_LZMA)
    * [ZipFile 对象](zipfile.md#zipfile-objects)
      * [`ZipFile`](zipfile.md#zipfile.ZipFile)
        * [`ZipFile.close()`](zipfile.md#zipfile.ZipFile.close)
        * [`ZipFile.getinfo()`](zipfile.md#zipfile.ZipFile.getinfo)
        * [`ZipFile.infolist()`](zipfile.md#zipfile.ZipFile.infolist)
        * [`ZipFile.namelist()`](zipfile.md#zipfile.ZipFile.namelist)
        * [`ZipFile.open()`](zipfile.md#zipfile.ZipFile.open)
        * [`ZipFile.extract()`](zipfile.md#zipfile.ZipFile.extract)
        * [`ZipFile.extractall()`](zipfile.md#zipfile.ZipFile.extractall)
        * [`ZipFile.printdir()`](zipfile.md#zipfile.ZipFile.printdir)
        * [`ZipFile.setpassword()`](zipfile.md#zipfile.ZipFile.setpassword)
        * [`ZipFile.read()`](zipfile.md#zipfile.ZipFile.read)
        * [`ZipFile.testzip()`](zipfile.md#zipfile.ZipFile.testzip)
        * [`ZipFile.write()`](zipfile.md#zipfile.ZipFile.write)
        * [`ZipFile.writestr()`](zipfile.md#zipfile.ZipFile.writestr)
        * [`ZipFile.mkdir()`](zipfile.md#zipfile.ZipFile.mkdir)
        * [`ZipFile.filename`](zipfile.md#zipfile.ZipFile.filename)
        * [`ZipFile.debug`](zipfile.md#zipfile.ZipFile.debug)
        * [`ZipFile.comment`](zipfile.md#zipfile.ZipFile.comment)
    * [Path 对象](zipfile.md#path-objects)
      * [`Path`](zipfile.md#zipfile.Path)
        * [`Path.name`](zipfile.md#zipfile.Path.name)
        * [`Path.open()`](zipfile.md#zipfile.Path.open)
        * [`Path.iterdir()`](zipfile.md#zipfile.Path.iterdir)
        * [`Path.is_dir()`](zipfile.md#zipfile.Path.is_dir)
        * [`Path.is_file()`](zipfile.md#zipfile.Path.is_file)
        * [`Path.exists()`](zipfile.md#zipfile.Path.exists)
        * [`Path.suffix`](zipfile.md#zipfile.Path.suffix)
        * [`Path.stem`](zipfile.md#zipfile.Path.stem)
        * [`Path.suffixes`](zipfile.md#zipfile.Path.suffixes)
        * [`Path.read_text()`](zipfile.md#zipfile.Path.read_text)
        * [`Path.read_bytes()`](zipfile.md#zipfile.Path.read_bytes)
        * [`Path.joinpath()`](zipfile.md#zipfile.Path.joinpath)
    * [PyZipFile 对象](zipfile.md#pyzipfile-objects)
      * [`PyZipFile`](zipfile.md#zipfile.PyZipFile)
        * [`PyZipFile.writepy()`](zipfile.md#zipfile.PyZipFile.writepy)
    * [ZipInfo 对象](zipfile.md#zipinfo-objects)
      * [`ZipInfo.from_file()`](zipfile.md#zipfile.ZipInfo.from_file)
      * [`ZipInfo.is_dir()`](zipfile.md#zipfile.ZipInfo.is_dir)
      * [`ZipInfo.filename`](zipfile.md#zipfile.ZipInfo.filename)
      * [`ZipInfo.date_time`](zipfile.md#zipfile.ZipInfo.date_time)
      * [`ZipInfo.compress_type`](zipfile.md#zipfile.ZipInfo.compress_type)
      * [`ZipInfo.comment`](zipfile.md#zipfile.ZipInfo.comment)
      * [`ZipInfo.extra`](zipfile.md#zipfile.ZipInfo.extra)
      * [`ZipInfo.create_system`](zipfile.md#zipfile.ZipInfo.create_system)
      * [`ZipInfo.create_version`](zipfile.md#zipfile.ZipInfo.create_version)
      * [`ZipInfo.extract_version`](zipfile.md#zipfile.ZipInfo.extract_version)
      * [`ZipInfo.reserved`](zipfile.md#zipfile.ZipInfo.reserved)
      * [`ZipInfo.flag_bits`](zipfile.md#zipfile.ZipInfo.flag_bits)
      * [`ZipInfo.volume`](zipfile.md#zipfile.ZipInfo.volume)
      * [`ZipInfo.internal_attr`](zipfile.md#zipfile.ZipInfo.internal_attr)
      * [`ZipInfo.external_attr`](zipfile.md#zipfile.ZipInfo.external_attr)
      * [`ZipInfo.header_offset`](zipfile.md#zipfile.ZipInfo.header_offset)
      * [`ZipInfo.CRC`](zipfile.md#zipfile.ZipInfo.CRC)
      * [`ZipInfo.compress_size`](zipfile.md#zipfile.ZipInfo.compress_size)
      * [`ZipInfo.file_size`](zipfile.md#zipfile.ZipInfo.file_size)
    * [命令行接口](zipfile.md#command-line-interface)
      * [命令行选项](zipfile.md#command-line-options)
    * [解压缩的障碍](zipfile.md#decompression-pitfalls)
      * [由于文件本身](zipfile.md#from-file-itself)
      * [文件系统限制](zipfile.md#file-system-limitations)
      * [资源限制](zipfile.md#resources-limitations)
      * [中断](zipfile.md#interruption)
      * [提取的默认行为](zipfile.md#default-behaviors-of-extraction)
  * [`tarfile` \--- 读写tar归档文件](tarfile.md)
    * [`open()`](tarfile.md#tarfile.open)
    * [`is_tarfile()`](tarfile.md#tarfile.is_tarfile)
    * [`TarError`](tarfile.md#tarfile.TarError)
    * [`ReadError`](tarfile.md#tarfile.ReadError)
    * [`CompressionError`](tarfile.md#tarfile.CompressionError)
    * [`StreamError`](tarfile.md#tarfile.StreamError)
    * [`ExtractError`](tarfile.md#tarfile.ExtractError)
    * [`HeaderError`](tarfile.md#tarfile.HeaderError)
    * [`FilterError`](tarfile.md#tarfile.FilterError)
      * [`FilterError.tarinfo`](tarfile.md#tarfile.FilterError.tarinfo)
    * [`AbsolutePathError`](tarfile.md#tarfile.AbsolutePathError)
    * [`OutsideDestinationError`](tarfile.md#tarfile.OutsideDestinationError)
    * [`SpecialFileError`](tarfile.md#tarfile.SpecialFileError)
    * [`AbsoluteLinkError`](tarfile.md#tarfile.AbsoluteLinkError)
    * [`LinkOutsideDestinationError`](tarfile.md#tarfile.LinkOutsideDestinationError)
    * [`ENCODING`](tarfile.md#tarfile.ENCODING)
    * [`USTAR_FORMAT`](tarfile.md#tarfile.USTAR_FORMAT)
    * [`GNU_FORMAT`](tarfile.md#tarfile.GNU_FORMAT)
    * [`PAX_FORMAT`](tarfile.md#tarfile.PAX_FORMAT)
    * [`DEFAULT_FORMAT`](tarfile.md#tarfile.DEFAULT_FORMAT)
    * [TarFile 对象](tarfile.md#tarfile-objects)
      * [`TarFile`](tarfile.md#tarfile.TarFile)
        * [`TarFile.open()`](tarfile.md#tarfile.TarFile.open)
        * [`TarFile.getmember()`](tarfile.md#tarfile.TarFile.getmember)
        * [`TarFile.getmembers()`](tarfile.md#tarfile.TarFile.getmembers)
        * [`TarFile.getnames()`](tarfile.md#tarfile.TarFile.getnames)
        * [`TarFile.list()`](tarfile.md#tarfile.TarFile.list)
        * [`TarFile.next()`](tarfile.md#tarfile.TarFile.next)
        * [`TarFile.extractall()`](tarfile.md#tarfile.TarFile.extractall)
        * [`TarFile.extract()`](tarfile.md#tarfile.TarFile.extract)
        * [`TarFile.extractfile()`](tarfile.md#tarfile.TarFile.extractfile)
        * [`TarFile.errorlevel`](tarfile.md#tarfile.TarFile.errorlevel)
        * [`TarFile.extraction_filter`](tarfile.md#tarfile.TarFile.extraction_filter)
        * [`TarFile.add()`](tarfile.md#tarfile.TarFile.add)
        * [`TarFile.addfile()`](tarfile.md#tarfile.TarFile.addfile)
        * [`TarFile.gettarinfo()`](tarfile.md#tarfile.TarFile.gettarinfo)
        * [`TarFile.close()`](tarfile.md#tarfile.TarFile.close)
        * [`TarFile.pax_headers`](tarfile.md#tarfile.TarFile.pax_headers)
    * [TarInfo 对象](tarfile.md#tarinfo-objects)
      * [`TarInfo`](tarfile.md#tarfile.TarInfo)
        * [`TarInfo.frombuf()`](tarfile.md#tarfile.TarInfo.frombuf)
        * [`TarInfo.fromtarfile()`](tarfile.md#tarfile.TarInfo.fromtarfile)
        * [`TarInfo.tobuf()`](tarfile.md#tarfile.TarInfo.tobuf)
        * [`TarInfo.name`](tarfile.md#tarfile.TarInfo.name)
        * [`TarInfo.size`](tarfile.md#tarfile.TarInfo.size)
        * [`TarInfo.mtime`](tarfile.md#tarfile.TarInfo.mtime)
        * [`TarInfo.mode`](tarfile.md#tarfile.TarInfo.mode)
        * [`TarInfo.type`](tarfile.md#tarfile.TarInfo.type)
        * [`TarInfo.linkname`](tarfile.md#tarfile.TarInfo.linkname)
        * [`TarInfo.uid`](tarfile.md#tarfile.TarInfo.uid)
        * [`TarInfo.gid`](tarfile.md#tarfile.TarInfo.gid)
        * [`TarInfo.uname`](tarfile.md#tarfile.TarInfo.uname)
        * [`TarInfo.gname`](tarfile.md#tarfile.TarInfo.gname)
        * [`TarInfo.pax_headers`](tarfile.md#tarfile.TarInfo.pax_headers)
        * [`TarInfo.isfile()`](tarfile.md#tarfile.TarInfo.isfile)
        * [`TarInfo.isreg()`](tarfile.md#tarfile.TarInfo.isreg)
        * [`TarInfo.isdir()`](tarfile.md#tarfile.TarInfo.isdir)
        * [`TarInfo.issym()`](tarfile.md#tarfile.TarInfo.issym)
        * [`TarInfo.islnk()`](tarfile.md#tarfile.TarInfo.islnk)
        * [`TarInfo.ischr()`](tarfile.md#tarfile.TarInfo.ischr)
        * [`TarInfo.isblk()`](tarfile.md#tarfile.TarInfo.isblk)
        * [`TarInfo.isfifo()`](tarfile.md#tarfile.TarInfo.isfifo)
        * [`TarInfo.isdev()`](tarfile.md#tarfile.TarInfo.isdev)
    * [解压缩过滤器](tarfile.md#extraction-filters)
      * [Default named filters](tarfile.md#default-named-filters)
        * [`fully_trusted_filter()`](tarfile.md#tarfile.fully_trusted_filter)
        * [`tar_filter()`](tarfile.md#tarfile.tar_filter)
        * [`data_filter()`](tarfile.md#tarfile.data_filter)
      * [Filter errors](tarfile.md#filter-errors)
      * [Hints for further verification](tarfile.md#hints-for-further-verification)
      * [Supporting older Python versions](tarfile.md#supporting-older-python-versions)
      * [Stateful extraction filter example](tarfile.md#stateful-extraction-filter-example)
    * [命令行接口](tarfile.md#command-line-interface)
      * [命令行选项](tarfile.md#command-line-options)
    * [例子](tarfile.md#examples)
    * [受支持的 tar 格式](tarfile.md#supported-tar-formats)
    * [Unicode 问题](tarfile.md#unicode-issues)

